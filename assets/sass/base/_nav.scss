@use '../abstracts/' as *;

.main-menu > .menu-item:not(.button) {
	position: relative;
	// transform: translatey(2rem);
}

.menu-toggle {

	&:focus {
		background: none;
	}

	@include bp(sm) {
		display: none;
	}
}

.site-branding,
.menu-toggle {
	position: relative;
	z-index: 10;
}


.main-navigation {
	display: flex;
	flex: 1;
	flex-direction: column;
	width: 100%;

	@include bp(sm) {
		flex-direction: row;
		width: auto;
	}

	.menu-menu-1-container {
		margin-left: auto;
		margin-right: auto;
		width: 100%;
	}


	.sub-menu {
		// border-radius: calc(var(--border-radius) / 2);
		// font-size: var(--font-xs);
		opacity: 0;
		visibility: hidden;
		pointer-events: none;
		// background: var(--color-blue-300);
		position: absolute;
		// transition: opacity .2s .1s;
		// color: white;
		z-index: 1;
		transition: opacity .2s;

		.menu-item a {
			display: inline-block;
			// padding: 0.6em 1em;
			font-size: var(--font-xs);
			// color: white;
		}
	}

	// li:hover .sub-menu {
	// 	visibility: visible;
	// 	opacity: 1;
	// }

	.button.menu-item {
		display: flex;
		padding: 1rem 2.75rem;

		a {
			// padding: 0;
			color: white;
		}

		@include bp(sm) {
			margin-right: unset;
		}

	}
}

.is-hovered .sub-menu {
	opacity: 1;
	visibility: visible;
	pointer-events: all;
}

.menu,
.menu ul,
.menu li {
	margin: 0;
	position: relative;
	list-style-type: none;
}

.menu {
	display: flex;

	.menu-item a {
		line-height: 1.5;
		transition: all .2s;
	}
}

.sub-menu {

	.current-menu-item a {
		text-decoration: underline;
		text-decoration-color: currentColor;
	}
}



.main-navigation .menu-item.current-menu-item,
.main-navigation .current_page_ancestor {
	text-decoration: underline;
	text-underline-offset: 6px;
	text-decoration-color: var(--color-accent);
}

.main-navigation {
	position: absolute;
	z-index: 9;
	background: var(--color-grey-600);
	left: 0;
	top: 0;
	height: 100vh;
	transform: translatex(-100%);
	transition: transform .2s;
	padding: clamp(3rem, 5vw, 5rem);
	padding-top: 10rem;

	// a {
	// 	font-size: 4rem;
	// }

	.main-menu {
		display: flex;
		flex: 1;
		flex-direction: column;

		& > .menu-item > a {
			font-weight: var(--fw-heavy);
		}

		@include bp(sm) {
			position: relative;
			flex-direction: row;
			background: transparent;
			transform: translatex(0);
			top: unset;
			padding: unset;
			height: auto;
			display: flex;
			justify-content: space-between;
			margin-left: 6vw;
			align-items: center;
		}
	}

	&.is-active {
		transform: translatex(0);
	}

	@include bp(sm) {
		position: relative;
		flex-direction: row;
		align-items: flex-start;
		background: transparent;
		transform: translatex(0);
		top: unset;
		padding: unset;
		height: auto;
		box-shadow: none;

		a {
			font-size: var(--font-sm);
		}
	}
}