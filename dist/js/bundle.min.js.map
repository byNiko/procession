{"version":3,"sources":["FilterEvents.js","HeaderHover.js","JoinPopup.js","MobileNav.js","headroom.js","menuToggle.js"],"names":["document","querySelectorAll","forEach","item","a","querySelector","src","URL","href","searchParams","append","select","getElementById","addEventListener","e","filterItems","target","value","els","style","display","classList","contains","optionParam","URLSearchParams","window","location","search","get","opt","options","find","op","filterOnLoad","matchMedia","matches","masthead","subMenus","mH","clientHeight","height","tallest","submenuArr","Array","from","reduce","prev","itt","x","y","Math","max","remove","this","add","closest","openJoinPopup","closePopup","key","popupDisplayed","sessionStorage","getItem","triggers","body","getElementsByTagName","popup","setupWillchange","willChange","removeWillchange","setItem","length","setTimeout","el","console","log","parentNode","siteNavigation","menu","linksWithChildren","link","toggleFocus","event","type","self","preventDefault","tagName","toLowerCase","t","n","exports","module","define","amd","Headroom","s","o","passive","removeEventListener","i","r","nodeType","documentElement","scrollHeight","offsetHeight","innerHeight","scrollY","pageYOffset","scrollTop","d","l","c","round","lastScrollY","direction","distance","abs","isOutOfBounds","top","offset","bottom","toleranceExceeded","tolerance","h","requestAnimationFrame","u","capture","destroy","cancelAnimationFrame","Object","down","up","assign","classes","elem","initialised","frozen","prototype","constructor","init","cutsTheMustard","addClass","scrollTracker","scroller","update","bind","keys","removeClass","unpin","hasClass","onUnpin","call","pin","onPin","freeze","unfreeze","onTop","notTop","onNotTop","onBottom","notBottom","onNotBottom","shouldUnpin","shouldPin","apply","split","every","pinned","unpinned","initial","header","headroom","toggle","isActive","overflowY"],"mappings":"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","file":"bundle.min.js","sourcesContent":["\n\n!( () => {\n\t/** add query param to select links */\n\tconst links = document.querySelectorAll( '.queryParam' );\n\tlinks.forEach( item => {\n\t\tconst a = item.querySelector( 'a' );\n\t\tconst src = new URL( a.href );\n\t\tsrc.searchParams.append( 'filter', 'festival' );\n\t\ta.href = src\n\n\t} )\n} )();\n\n\n!( () => {\n\n\tconst select = document.getElementById( \"event-tag-select\" );\n\tif ( !select ) return;\n\n\tselect.addEventListener( 'input', handleFilter );\n\tconst els = document.querySelectorAll( '.event--listing' );\n\tfilterOnLoad();\n\tfunction handleFilter( e ) {\n\n\t\tconst select = e.target.value;\n\n\t\tfilterItems( select )\n\n\t}\n\tfunction filterItems( select ) {\n\t\tels.forEach( item => {\n\t\t\titem.style.display = \"block\";\n\t\t\tif ( select === '' ) return;\n\t\t\tif ( !( item.classList.contains( `event-tag-${select}` ) ) )\n\t\t\t\titem.style.display = \"none\";\n\t\t} )\n\t}\n\tfunction filterOnLoad() {\n\t\tconst optionParam = new URLSearchParams( window.location.search ).get( 'filter' );\n\t\tif ( optionParam ) {\n\t\t\tconst opt = [...select.options].find( op => op.value === optionParam );\n\t\t\tif ( opt ) select.value = opt.value;\n\t\t\tfilterItems( opt.value )\n\t\t}\n\t}\n} )();","!( () => {\n\tconst mediaQuery = window.matchMedia( '(min-width: 40rem)' )\n\t// Check if the media query is true\n\tif ( mediaQuery.matches ) {\n\t\tconst masthead = document.getElementById( 'masthead' );\n\t\tconst subMenus = masthead.querySelectorAll( '.sub-menu' );\n\t\tconst mH = masthead.clientHeight;\n\t\tmasthead.style.height = `${mH}px`\n\t\tconst tallest = getTallestSubmenu( subMenus );\n\n\t\tmasthead.addEventListener( 'mouseleave', function ( e ) {\n\t\t\tmasthead.classList.remove( 'is-hovered' )\n\t\t\tthis.style.height = `${mH}px`;\n\t\t} )\n\t\tmasthead.addEventListener( 'mouseenter', function ( e ) {\n\t\t\tmasthead.classList.add( 'is-hovered' );\n\t\t\tthis.style.height = `${mH + tallest}px`;\n\t\t} )\n\t}\n\tfunction getTallestSubmenu( submenuArr ) {\n\t\treturn Array.from( submenuArr ).reduce( ( prev, itt ) => {\n\t\t\tconst x = itt.clientHeight;\n\t\t\tconst y = ( prev && prev.clientHeight ) ? prev.clientHeight : prev || 0;\n\t\t\treturn Math.max( x, y );\n\t\t} )\n\t}\n\n} )();","( () => {\n\t// mark this in sessionStorage\n\tdocument.addEventListener( 'click', handleClick );\n\tdocument.addEventListener( 'keydown', handleKeydown );\n\n\tconst popupDisplayed = sessionStorage.getItem( 'popupDisplayed' );\n\n\tconst triggers = document.querySelectorAll( '.openJoinPopup' );\n\n\tconst body = document.getElementsByTagName( 'body' )[0];\n\tconst popup = document.getElementById( 'joinPopup' );\n\tif ( !popup || !triggers.length ) return;\n\tif ( popupDisplayed !== \"true\" ) {\n\t\tsetTimeout( () => {\n\t\t\topenJoinPopup();\n\t\t}, 5000 )\n\t}\n\n\ttriggers.forEach( ( el ) => {\n\t\tel.addEventListener( 'mouseover', setupWillchange )\n\t\tel.addEventListener( 'touchstart', setupWillchange )\n\t\tel.addEventListener( 'mouseout', removeWillchange )\n\t\tel.addEventListener( 'touchmove', removeWillchange )\n\t} )\n\n\tfunction handleKeydown( e ) {\n\t\te.key === \"Escape\" ? closePopup() : null;\n\t}\n\n\tfunction setupWillchange() {\n\t\tpopup.style.willChange = \"transform, opacity\";\n\t\ttransitionEnd()\n\t}\n\tfunction removeWillchange() {\n\t\tpopup.style.willChange = \"\";\n\t}\n\n\tfunction transitionEnd() {\n\t\tpopup.addEventListener( 'transitionend', removeWillchange )\n\t}\n\n\tfunction handleClick( e ) {\n\n\t\te.target.closest( '.openJoinPopup' ) ? openJoinPopup() : null;\n\t\te.target.closest( '#background-overlay' ) ? closePopup() : null;\n\t\te.target.matches( '.popup--close-button' ) ? closePopup() : null;\n\n\t}\n\tfunction openJoinPopup() {\n\t\t// open popup\n\t\tbody.classList.add( 'overlay--is-active' )\n\t\tpopup.classList.add( 'is-active' )\n\t\tsessionStorage.setItem( \"popupDisplayed\", \"true\" );\n\n\t}\n\n\tfunction closePopup() {\n\t\tpopup.classList.remove( 'is-active' )\n\t\tbody.classList.remove( 'overlay--is-active' )\n\t}\n\tfunction getScrollbarWidth() {\n\t\treturn window.outerWidth - document.body.clientWidth;\n\t}\n\n} )();","\n!( function () {\n\twindow.addEventListener( 'click', e => { console.log( 'click', e.target, e.target.parentNode ) } )\n\tconst mediaQuery = window.matchMedia( '(min-width: 40rem)' )\n\t// Check if the media query is true\n\tif ( !mediaQuery.matches ) {\n\t\tconst siteNavigation = document.getElementById( 'site-navigation' );\n\n\t\t// Return early if the navigation doesn't exist.\n\t\tif ( !siteNavigation ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst menu = siteNavigation.getElementsByTagName( 'ul' )[0];\n\n\n\t\t// Get all the link elements within the menu.\n\t\tconst links = menu.getElementsByTagName( 'a' );\n\n\t\t// Get all the link elements with children within the menu.\n\t\tconst linksWithChildren = menu.querySelectorAll( '.menu-item-has-children > a, .page_item_has_children > a' );\n\n\t\tfor ( const link of linksWithChildren ) {\n\t\t\tlink.addEventListener( 'touchstart', toggleFocus, false );\n\t\t\tlink.addEventListener( 'click', toggleFocus, false );\n\t\t\t// link.addEventListener( 'touchstart', toggleFocus, false );\n\t\t}\n\n\t\tfunction toggleFocus( event ) {\n\t\t\tif ( this.closest( '.sub-menu' ) ) {\n\t\t\t\tconsole.log( 'inner link' )\n\t\t\t} else {\n\t\t\t\tconsole.log( 'nope' )\n\t\t\t}\n\t\t\t// if ( event.type === 'focus' || event.type === 'blur' || event.type === 'click' ) {\n\t\t\tif ( event.type === 'click' ) {\n\n\t\t\t\tlet self = this;\n\n\t\t\t\tevent.preventDefault();\n\n\n\t\t\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\t\t\twhile ( !self.classList.contains( 'main-menu' ) ) {\n\t\t\t\t\tconsole.log( 'ere', self )\n\t\t\t\t\t// On li elements toggle the class .focus.\n\t\t\t\t\tif ( 'li' === self.tagName.toLowerCase() ) {\n\t\t\t\t\t\tif ( self.classList.contains( 'focus' ) ) {\n\t\t\t\t\t\t\tself.classList.remove( 'focus' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor ( const link of linksWithChildren ) {\n\t\t\t\t\t\t\t\tlink.parentNode.classList.remove( 'focus' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.classList.add( 'focus' )\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself = self.parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( event.type === 'focus' ) {\n\t\t\t\treturn;\n\t\t\t\tconst menuItem = this.parentNode;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tfor ( const link of menuItem.parentNode.children ) {\n\t\t\t\t\tif ( menuItem !== link ) {\n\t\t\t\t\t\tlink.classList.remove( 'focus' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmenuItem.classList.toggle( 'focus' );\n\t\t\t}\n\t\t}\n\t\t// Remove the .toggled class and set aria-expanded to false when the user clicks outside the navigation.\n\t\t// document.addEventListener( 'click', function ( event ) {\n\n\t\t// \tconst isClickInside = siteNavigation.contains( event.target );\n\n\t\t// \tif ( !isClickInside ) {\n\t\t// \t\tsiteNavigation.classList.remove( 'is-active' );\n\t\t// \t\tbutton.setAttribute( 'aria-expanded', 'false' );\n\t\t// \t}\n\t\t// } );\n\t}\n} )();","/*!\n * headroom.js v0.12.0 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2020 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n!function ( t, n ) { \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define( n ) : ( t = t || self ).Headroom = n() }( this, function () { \"use strict\"; function t() { return \"undefined\" != typeof window } function d( t ) { return function ( t ) { return t && t.document && function ( t ) { return 9 === t.nodeType }( t.document ) }( t ) ? function ( t ) { var n = t.document, o = n.body, s = n.documentElement; return { scrollHeight: function () { return Math.max( o.scrollHeight, s.scrollHeight, o.offsetHeight, s.offsetHeight, o.clientHeight, s.clientHeight ) }, height: function () { return t.innerHeight || s.clientHeight || o.clientHeight }, scrollY: function () { return void 0 !== t.pageYOffset ? t.pageYOffset : ( s || o.parentNode || o ).scrollTop } } }( t ) : function ( t ) { return { scrollHeight: function () { return Math.max( t.scrollHeight, t.offsetHeight, t.clientHeight ) }, height: function () { return Math.max( t.offsetHeight, t.clientHeight ) }, scrollY: function () { return t.scrollTop } } }( t ) } function n( t, s, e ) { var n, o = function () { var n = !1; try { var t = { get passive() { n = !0 } }; window.addEventListener( \"test\", t, t ), window.removeEventListener( \"test\", t, t ) } catch ( t ) { n = !1 } return n }(), i = !1, r = d( t ), l = r.scrollY(), a = {}; function c() { var t = Math.round( r.scrollY() ), n = r.height(), o = r.scrollHeight(); a.scrollY = t, a.lastScrollY = l, a.direction = l < t ? \"down\" : \"up\", a.distance = Math.abs( t - l ), a.isOutOfBounds = t < 0 || o < t + n, a.top = t <= s.offset[a.direction], a.bottom = o <= t + n, a.toleranceExceeded = a.distance > s.tolerance[a.direction], e( a ), l = t, i = !1 } function h() { i || ( i = !0, n = requestAnimationFrame( c ) ) } var u = !!o && { passive: !0, capture: !1 }; return t.addEventListener( \"scroll\", h, u ), c(), { destroy: function () { cancelAnimationFrame( n ), t.removeEventListener( \"scroll\", h, u ) } } } function o( t ) { return t === Object( t ) ? t : { down: t, up: t } } function s( t, n ) { n = n || {}, Object.assign( this, s.options, n ), this.classes = Object.assign( {}, s.options.classes, n.classes ), this.elem = t, this.tolerance = o( this.tolerance ), this.offset = o( this.offset ), this.initialised = !1, this.frozen = !1 } return s.prototype = { constructor: s, init: function () { return s.cutsTheMustard && !this.initialised && ( this.addClass( \"initial\" ), this.initialised = !0, setTimeout( function ( t ) { t.scrollTracker = n( t.scroller, { offset: t.offset, tolerance: t.tolerance }, t.update.bind( t ) ) }, 100, this ) ), this }, destroy: function () { this.initialised = !1, Object.keys( this.classes ).forEach( this.removeClass, this ), this.scrollTracker.destroy() }, unpin: function () { !this.hasClass( \"pinned\" ) && this.hasClass( \"unpinned\" ) || ( this.addClass( \"unpinned\" ), this.removeClass( \"pinned\" ), this.onUnpin && this.onUnpin.call( this ) ) }, pin: function () { this.hasClass( \"unpinned\" ) && ( this.addClass( \"pinned\" ), this.removeClass( \"unpinned\" ), this.onPin && this.onPin.call( this ) ) }, freeze: function () { this.frozen = !0, this.addClass( \"frozen\" ) }, unfreeze: function () { this.frozen = !1, this.removeClass( \"frozen\" ) }, top: function () { this.hasClass( \"top\" ) || ( this.addClass( \"top\" ), this.removeClass( \"notTop\" ), this.onTop && this.onTop.call( this ) ) }, notTop: function () { this.hasClass( \"notTop\" ) || ( this.addClass( \"notTop\" ), this.removeClass( \"top\" ), this.onNotTop && this.onNotTop.call( this ) ) }, bottom: function () { this.hasClass( \"bottom\" ) || ( this.addClass( \"bottom\" ), this.removeClass( \"notBottom\" ), this.onBottom && this.onBottom.call( this ) ) }, notBottom: function () { this.hasClass( \"notBottom\" ) || ( this.addClass( \"notBottom\" ), this.removeClass( \"bottom\" ), this.onNotBottom && this.onNotBottom.call( this ) ) }, shouldUnpin: function ( t ) { return \"down\" === t.direction && !t.top && t.toleranceExceeded }, shouldPin: function ( t ) { return \"up\" === t.direction && t.toleranceExceeded || t.top }, addClass: function ( t ) { this.elem.classList.add.apply( this.elem.classList, this.classes[t].split( \" \" ) ) }, removeClass: function ( t ) { this.elem.classList.remove.apply( this.elem.classList, this.classes[t].split( \" \" ) ) }, hasClass: function ( t ) { return this.classes[t].split( \" \" ).every( function ( t ) { return this.classList.contains( t ) }, this.elem ) }, update: function ( t ) { t.isOutOfBounds || !0 !== this.frozen && ( t.top ? this.top() : this.notTop(), t.bottom ? this.bottom() : this.notBottom(), this.shouldUnpin( t ) ? this.unpin() : this.shouldPin( t ) && this.pin() ) } }, s.options = { tolerance: { up: 0, down: 0 }, offset: 0, scroller: t() ? window : null, classes: { frozen: \"headroom--frozen\", pinned: \"headroom--pinned\", unpinned: \"headroom--unpinned\", top: \"headroom--top\", notTop: \"headroom--not-top\", bottom: \"headroom--bottom\", notBottom: \"headroom--not-bottom\", initial: \"headroom\" } }, s.cutsTheMustard = !!( t() && function () { }.bind && \"classList\" in document.documentElement && Object.assign && Object.keys && requestAnimationFrame ), s } );\n\nconst header = document.querySelector( \"#inner-masthead\" );\n\nconst options = {\n\t// vertical offset in px before element is first unpinned\n\toffset: 0,\n\t// or you can specify offset individually for up/down scroll\n\toffset: {\n\t\tup: 100,\n\t\tdown: 50\n\t},\n\t// scroll tolerance in px before state changes\n\ttolerance: 0,\n\t// or you can specify tolerance individually for up/down scroll\n\ttolerance: {\n\t\tup: 5,\n\t\tdown: 0\n\t},\n\t// css classes to apply\n\tclasses: {\n\t\t// when element is initialised\n\t\tinitial: \"headroom\",\n\t\t// when scrolling up\n\t\tpinned: \"headroom--pinned\",\n\t\t// when scrolling down\n\t\tunpinned: \"headroom--unpinned\",\n\t\t// when above offset\n\t\ttop: \"headroom--top\",\n\t\t// when below offset\n\t\tnotTop: \"headroom--not-top\",\n\t\t// when at bottom of scroll area\n\t\tbottom: \"headroom--bottom\",\n\t\t// when not at bottom of scroll area\n\t\tnotBottom: \"headroom--not-bottom\",\n\t\t// when frozen method has been called\n\t\tfrozen: \"headroom--frozen\",\n\t\t// multiple classes are also supported with a space-separated list\n\t\tpinned: \"headroom--pinned foo bar\"\n\t},\n\t// element to listen to scroll events on, defaults to `window`\n\t// scroller: someElement,\n\t// callback when pinned, `this` is headroom object\n\tonPin: function () { },\n\t// callback when unpinned, `this` is headroom object\n\tonUnpin: function () { },\n\t// callback when above offset, `this` is headroom object\n\tonTop: function () { },\n\t// callback when below offset, `this` is headroom object\n\tonNotTop: function () { },\n\t// callback when at bottom of page, `this` is headroom object\n\tonBottom: function () { },\n\t// callback when moving away from bottom of page, `this` is headroom object\n\tonNotBottom: function () { }\n};\n\n\nconst headroom = new Headroom( header, options );\nheadroom.init();","( () => {\n\tconst toggle = document.querySelector( '.menu-toggle' );\n\tconst target = document.querySelector( '.main-navigation' );\n\tconst body = document.querySelector( 'body' );\n\n\tif ( !toggle || !target ) return\n\tlet isActive = false;\n\ttoggle.addEventListener( 'click', function toggleMenu( e ) {\n\t\tthis.classList.toggle( 'is-active' )\n\t\ttarget.classList.toggle( 'is-active' );\n\t\tisActive = !isActive;\n\t\tif ( isActive ) {\n\t\t\tbody.style.overflowY = 'hidden';\n\t\t} else {\n\t\t\tbody.style.overflowY = '';\n\t\t}\n\n\n\t} );\n\n} )()"]}