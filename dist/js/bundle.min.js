document.querySelectorAll(".queryParam").forEach((e=>{const t=e.querySelector("a"),o=new URL(t.href);o.searchParams.append("filter","festival"),t.href=o})),(()=>{const e=document.getElementById("event-tag-select");if(!e)return;e.addEventListener("input",(function(e){o(e.target.value)}));const t=document.querySelectorAll(".event--listing");function o(e){t.forEach((t=>{t.style.display="block",""!==e&&(t.classList.contains(`event-tag-${e}`)||(t.style.display="none"))}))}!function(){const t=new URLSearchParams(window.location.search).get("filter");if(t){const n=[...e.options].find((e=>e.value===t));n&&(e.value=n.value),o(n.value)}}()})(),(()=>{if(window.matchMedia("(min-width: 40rem)").matches){const t=document.getElementById("masthead"),o=t.querySelectorAll(".sub-menu"),n=t.clientHeight;t.style.height=`${n}px`;const s=(e=o,Array.from(e).reduce(((e,t)=>{const o=t.clientHeight,n=e&&e.clientHeight?e.clientHeight:e||0;return Math.max(o,n)})));t.addEventListener("mouseleave",(function(e){t.classList.remove("is-hovered"),this.style.height=`${n}px`})),t.addEventListener("mouseenter",(function(e){t.classList.add("is-hovered"),this.style.height=`${n+s}px`}))}var e})(),(()=>{document.addEventListener("click",(function(e){e.target.closest(".openJoinPopup")&&a(),e.target.closest("#background-overlay")&&c(),e.target.matches(".popup--close-button")&&c()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&c()}));const e=sessionStorage.getItem("popupDisplayed"),t=document.querySelectorAll(".openJoinPopup"),o=document.getElementsByTagName("body")[0],n=document.getElementById("joinPopup");function s(){n.style.willChange="transform, opacity",n.addEventListener("transitionend",i)}function i(){n.style.willChange=""}function a(){o.classList.add("overlay--is-active"),n.classList.add("is-active"),sessionStorage.setItem("popupDisplayed","true")}function c(){n.classList.remove("is-active"),o.classList.remove("overlay--is-active")}n&&t.length&&("true"!==e&&setTimeout((()=>{a()}),5e3),t.forEach((e=>{e.addEventListener("mouseover",s),e.addEventListener("touchstart",s),e.addEventListener("mouseout",i),e.addEventListener("touchmove",i)})))})(),function(){window.addEventListener("click",(e=>{console.log("click",e.target,e.target.parentNode)}));if(!window.matchMedia("(min-width: 40rem)").matches){const t=document.getElementById("site-navigation");if(!t)return;const o=t.getElementsByTagName("ul")[0],n=(o.getElementsByTagName("a"),o.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"));for(const s of n)s.addEventListener("touchstart",e,!1),s.addEventListener("click",e,!1);function e(e){if(this.closest(".sub-menu")?console.log("inner link"):console.log("nope"),"click"===e.type){let t=this;for(e.preventDefault();!t.classList.contains("main-menu");){if(console.log("ere",t),"li"===t.tagName.toLowerCase())if(t.classList.contains("focus"))t.classList.remove("focus");else{for(const e of n)e.parentNode.classList.remove("focus");t.classList.add("focus")}t=t.parentNode}}e.type}}}();import"../../node_modules/headroom.js/dist/headroom.min.js";const header=document.querySelector("#inner-masthead"),options={offset:0,offset:{up:100,down:50},tolerance:0,tolerance:{up:5,down:0},classes:{initial:"headroom",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",frozen:"headroom--frozen",pinned:"headroom--pinned foo bar"},onPin:function(){},onUnpin:function(){},onTop:function(){},onNotTop:function(){},onBottom:function(){},onNotBottom:function(){}},headroom=new Headroom(header,options);headroom.init(),(()=>{const e=document.querySelector(".menu-toggle"),t=document.querySelector(".main-navigation"),o=document.querySelector("body");if(!e||!t)return;let n=!1;e.addEventListener("click",(function(e){this.classList.toggle("is-active"),t.classList.toggle("is-active"),n=!n,o.style.overflowY=n?"hidden":""}))})();
//# sourceMappingURL=bundle.min.js.map